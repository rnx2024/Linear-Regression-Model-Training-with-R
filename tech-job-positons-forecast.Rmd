---
title: "Trends and Forecast in Germany's Tech Job Market"
author: "Rani"
date: "2025-01-16"
output:
  pdf_document: default
  html_document:
    df_print: paged
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## Job Positions Analysis

* By extracting unique job positions and their monthly frequency from January to December, we will see the most popular jobs (Top 20 Positions)

* By counting the frequency of job positions in each month, we will see which position is most popular on a month (Most Popular Position Per Month)


```{r Load and inspect dataset, include = FALSE}

# Load necessary libraries
library(tidyverse)
library(knitr)
library(readr)
library(tidytext)
library(caTools)

# Path to your updated dataset
file_path <- "C://Users//FM Program-CBAA//Documents//Talents2Germany//data_analysis_project//final_data_updated.csv"

# Load the updated dataset
data_updated <- read_csv(file_path) %>%
spec(data_updated)

```

## Forecast of the Top 5 German Tech Jobs for 2025 (using Linear Regression Model)

```{r Predict Jobs}

extract_phrases <- function(position) {
  pattern <- "(?i)(\\b[a-z]+(?:\\s[a-z]+)?(?:\\s[a-z]+)?\\s(developer|engineer|manager)\\b)"
  matches <- str_extract_all(position, pattern)
  unlist(matches)
}

data_with_phrases <- data_updated %>%
  rowwise() %>%
  mutate(phrase = list(extract_phrases(position))) %>%
  unnest(phrase) %>%
  filter(phrase != "")

phrase_counts <- data_with_phrases %>%
  ungroup() %>% 
  count(phrase, sort = TRUE) 
  
phrase_counts$phrase <- factor(phrase_counts$phrase)

# Prepare the data 
data_for_model <- data_with_phrases %>%
  filter(phrase %in% phrase_counts$phrase) %>%
  count(phrase) %>%
  ungroup()

# Ensure n is numeric
data_for_model$n <- as.numeric(data_for_model$n)

# Check for missing values and remove them
data_for_model <- na.omit(data_for_model)

# Train Linear Regression Model
set.seed(123)
split <- sample.split(data_for_model$n, SplitRatio = 0.7)
train <- subset(data_for_model, split == TRUE)
test <- subset(data_for_model, split == FALSE)

# Ensure the levels in test match those in train
train$phrase <- factor(train$phrase)
test$phrase <- factor(test$phrase, levels = levels(train$phrase))

# Create model
model <- lm(n ~ phrase, data = train)

 # Create prediction
predictions <- predict(model, newdata = test)

 
if (any(is.na(predictions)) || any(is.na(test$n))) {
 
  test <- test[!is.na(predictions) & !is.na(test$n), ]
  predictions <- predictions[!is.na(predictions)]
}

# Evaluate Model 
mean_squared_error <- mean((test$n - predictions)^2, na.rm = TRUE)


future_data <- data.frame(
  phrase = factor(phrase_counts$phrase, levels = levels(train$phrase))
)
future_predictions <- predict(model, newdata = future_data)
future_data$predicted_count <- future_predictions


top_jobs_2025 <- future_data %>%
  arrange(desc(predicted_count)) %>%
  slice(1:5)  


top_jobs_2025 %>%
  select(Position = phrase)
```

## Why these positions will be this year's top jobs

*Software Developers and Software Engineers*

* Software developer roles are highly in demand because they require knowledge of both front-end and back-end technologies. This versatility makes full stack professionals valuable assets for companies looking to build comprehensive, scalable applications. There is also a great need for functional system architecture design and the integration of both, hence the demand as well, for Software Engineers.

*Senior Software Engineer*

* Senior roles, particularly Senior Software Engineers, are in significant demand. These positions require a higher level of expertise and experience, making them crucial for leading projects, mentoring junior developers, and driving technological advancements within organizations.

*Senior Frontend Developer*

* There is a strong demand for professionals with specialized front-end skills. Frontend developers are essential for creating responsive, user-friendly interfaces and ensuring a positive user experience. This role is critical as users increasingly interact with digital products.

*DevOps Engineer*

* The demand for DevOps Engineers is on the rise due to their crucial role in bridging the gap between development and operations teams.DevOps Engineers are responsible for (CI/CD) pipelines, which fast-track the time it takes to bring new features to the market. 


